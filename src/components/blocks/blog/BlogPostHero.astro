---
// Hero Section for Blog Posts
// ------------
// Description: A hero section (page header) for the post pages.
// Properties:
// - tags: An array of tags for the post
// - title: The title of the section (usually the title of the post)
// - author: The author of the post
// - publishDate: The publish date of the post

// Components
// - Layout
import Section from '../../../components/ui/Section.astro'
import Row from '../../../components/ui/Row.astro'
import Col from '../../../components/ui/Col.astro'
// - UI
import Badge from '../../../components/ui/Badge.astro'
import Breadcrumbs from '../../../components/ui/Breadcrumbs.astro'

// Props
type Props = {
	tags?: any
	title: string
	author?: string
	publishDate?: string
	image?: string
}
const { tags, title, author, publishDate, image } = Astro.props
---

{image ? (
	<div class="post-intro-banner">
		<img src={image} alt={title} class="post-intro-banner__image" />
		<div class="post-intro-banner__overlay"></div>
		<div class="post-intro-banner__content">
			<Breadcrumbs classes="mb-6" />
			<h1 class="post-header__title">
				{title}
			</h1>
			{
				author ? (
					<p class="page-header__text">
						Written by, {author} {publishDate && 'on ' + publishDate}
					</p>
				) : (
					publishDate && <p class="page-header__text">Published on, {publishDate}</p>
				)
			}
		</div>
	</div>
) : (
	<Section id="post-intro" classes="bg-neutral-50 dark:bg-neutral-900">
		<Row>
			<Col span="12" align="center">
				<header class="post-header">
					<Breadcrumbs classes="mb-6" />
					<h1 class="post-header__title">
						{title}
					</h1>
					{
						author ? (
							<p class="page-header__text">
								Written by, {author} {publishDate && 'on ' + publishDate}
							</p>
						) : (
							publishDate && <p class="page-header__text">Published on, {publishDate}</p>
						)
					}
				</header>
			</Col>
		</Row>
	</Section>
)}

<style>
	#post-intro {
		@apply min-h-[300px] flex items-center;
	}
	.post-intro-banner {
		position: relative;
		width: 100vw;
		max-width: 100%;
		overflow: hidden;
		margin-left: calc(-50vw + 50%);
		min-height: 400px;
		display: flex;
		align-items: center;
		justify-content: center;
		margin-bottom: 2rem;
	}
	.post-intro-banner__image {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		object-fit: cover;
		object-position: center;
	}
	.post-intro-banner__overlay {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: rgba(0, 0, 0, 0.4);
	}
	.post-intro-banner__content {
		position: relative;
		z-index: 10;
		text-align: center;
		color: white;
		max-width: 800px;
		padding: 2rem;
	}
	.page-header {
		@apply mx-auto max-w-4xl;
	}
	.page-header__text {
		@apply text-lg leading-relaxed;
	}
	.post-header__title {
		@apply mb-4 text-4xl font-bold;
	}
	.post-header__tags {
		@apply mt-6 flex flex-row items-center justify-center gap-2 pb-2;
	}
</style>
